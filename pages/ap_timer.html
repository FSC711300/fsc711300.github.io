<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
            content="width=device-width, initial-scale=0.8, minimum-scale=0.5, maximum-scale=2.0, user-scalable=1">
        <title>倒计时</title>
        <style>
            .shows {
                width: 600px;
                height: 60px;
                font-size: 32px;
                padding-left: 10px;
                line-height: 60px;
            }

            h1 {
                width: 600px;
                height: 60px;
                line-height: 60px;
                padding-left: 10px;
            }
        </style>
    </head>

    <body>
        <div style="padding-top:20px;padding-left:10px;font-size:18px;">
            请选择一个AP科目：
            <!-- 
            <select id="subject_select" name="subject_select" style="height:22px;">
                <option value="2024/05/06 12:50:00">艺术史/化学</option>
                <option value="2024/05/07 08:00:00">微观经济学</option>
                <option value="2024/05/07 12:50:00">统计学</option>
                <option value="2024/05/07 08:00:00">英语文学与写作</option>
                <option value="2024/05/08 12:50:00">计算机科学A</option>
                <option value="2024/05/09 08:00:00">环境科学</option>
                <option value="2024/05/09 12:50:00">心理学</option>
                <option value="2024/05/10 08:00:00">欧洲历史/美国历史</option>
                <option value="2024/05/10 12:50:00">宏观经济学</option>
                <option value="2024/05/13 08:00:00">微积分</option>
                <option value="2024/05/13 12:50:00">初级微积分</option>
                <option value="2024/05/14 08:00:00">英语语言与写作</option>
                <option value="2024/05/14 12:50:00">物理C力学</option>
                <option value="2024/05/14 14:50:00">物理C电磁学</option>
                <option value="2024/05/15 08:00:00">世界历史</option>
                <option value="2024/05/16 12:50:00">生物学</option>
                <option value="2024/05/17 08:00:00">物理1</option>
                <option value="2024/05/17 12:50:00">物理2</option>
        </select>
        -->
            <select id="subject_select" name="subject_select" style="height:22px;">
                <optgroup label="正常考试">
                    <option value="2025/05/05 08:00:00">生物学</option>
                    <option value="2025/05/05 12:00:00">微观经济学</option>
                    <option value="2025/05/06 08:00:00">化学</option>
                    <option value="2025/05/07 12:00:00">计算机科学A</option>
                    <option value="2025/05/08 08:00:00">统计学</option>
                    <option value="2025/05/09 08:00:00">宏观经济学</option>
                    <option value="2025/05/12 08:00:00">微积分BC</option>
                    <option value="2025/05/12 12:00:00">Seminar</option>
                    <option value="2025/05/13 08:00:00">预备微积分</option>
                    <option value="2025/05/13 12:00:00">环境科学</option>
                    <option value="2025/05/13 12:00:00">物理2</option>
                    <option value="2025/05/14 08:00:00">英语语言与写作</option>
                    <option value="2025/05/14 12:00:00">物理C力学</option>
                    <option value="2025/05/15 12:00:00">物理C电磁学</option>
                    <option value="2025/05/16 08:00:00">物理1</option>
                    <option value="2025/05/13 12:00:00">心理学</option>
                </optgroup>
                <optgroup label="延迟考试">
                    <option value="2025/05/19 12:00:00">英语语言与写作</option>
                    <option value="2025/05/19 12:00:00">人文地理</option>
                    <option value="2025/05/20 12:00:00">美国历史</option>
                    <option value="2025/05/22 12:00:00">艺术史</option>
                </optgroup>
            </select>
        </div>
        <h1 id="title">距离AP<span id="subject_name"> </span>考试还剩：</h1>
        <p id="timeShow" class="shows"> </p>
        <h1>当前时间：</h1>
        <p id="timeNow" class="shows"> </p>
        <script>
            var subject_select = document.getElementById("subject_select");
            var subject_name = document.getElementById("subject_name");
            var timeshow = document.getElementById("timeShow");
            var timenow = document.getElementById("timeNow");
            function timeDiff(d1) {
                var dateBegin = new Date();
                var dateEnd = new Date(d1);
                var dateDiff = dateEnd.getTime() - dateBegin.getTime();
                var dayDiff = Math.floor(dateDiff / (24 * 3600 * 1000));
                var leave1 = dateDiff % (24 * 3600 * 1000);
                var hours = Math.floor(leave1 / (3600 * 1000));
                var leave2 = leave1 % (3600 * 1000);
                var minutes = Math.floor(leave2 / (60 * 1000));
                var leave3 = leave2 % (60 * 1000);
                var seconds = Math.ceil(leave3 / 1000);
                // return dayDiff < 0 ? "预定时间已到！" : dayDiff + "天 " + hours + "小时 " + minutes + "分钟 " + seconds + "秒";
                return dayDiff < 0 ? "预定时间已到！" : dayDiff + "天 " + hours + "小时 " + minutes + "分钟";
            }
            setInterval(function () {
                sel_pos = subject_select.selectedIndex;
                subject_name.innerHTML = subject_select.options[sel_pos].text;
                time = new Date();
                timenow.innerHTML = time.toLocaleString();
                timeshow.innerHTML = timeDiff(subject_select.options[sel_pos].value);
            }, 100)
        </script>
    </body>

</html>